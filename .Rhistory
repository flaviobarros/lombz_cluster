library(readr)
library(readr)
pretinas <- read_csv('protein.txt')
View(pretinas)
pretinas <- read_delim('protein.txt', delim = '\t')
pretinas <- read.table('protein.txt', header = T, delim = '\t')
pretinas <- read.table('protein.txt', header = T, sep = '\t')
View(pretinas)
pretinas <- read.table('protein.txt', header = T, sep = '\t')
View(pretinas)
proteinas <- read.table('protein.txt', header = T, sep = '\t')
rm(pretinas)
summary(proteinas)
pmatrix <- scale(protein[,vars.to.use])
protein = proteinas
rm(proteinas)
pmatrix <- scale(protein[,vars.to.use])
pmatrix <- scale(protein[,-1])
View(pmatrix)
pcenter <- attr(pmatrix, "scaled:center")
pcenter
str(pmatrix)
d <- dist(pmatrix, method="euclidean")
d
d
d <- dist(pmatrix[,1:2], method="euclidean")
d
d <- dist(pmatrix, method="euclidean")
x = matrix(rnorm(100), nrow = 5)
x
x = matrix(rnorm(9), nrow = 3)
x
dist(x)
pfit <- hclust(d, method="ward")
plot(pfit, labels=protein$Country)
rect.hclust(pfit, k=5)
groups <- cutree(pfit, k=5)
groups
print_clusters <- function(labels, k) {
for(i in 1:k) {
print(paste("cluster", i))
print(protein[labels==i,c("Country","RedMeat","Fish","Fr.Veg")])
}
}
print_clusters(groups, 5)
library(ggplot2)
princ <- prcomp(pmatrix)
nComp <- 2
project <- predict(princ, newdata = pmatrix)[,1:nComp]
project.plus <- cbind(as.data.frame(project),
cluster=as.factor(groups),
country=protein$Country)
View(project.plus)
